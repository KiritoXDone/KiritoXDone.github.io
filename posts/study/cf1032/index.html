<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Codeforces Round 1032 (Div. 3) | KiritoXD&#39;s Blog</title>
<meta name="keywords" content="Codeforces, è¡¥é¢˜">
<meta name="description" content="è¡¥é¢˜">
<meta name="author" content="KiritoXD">
<link rel="canonical" href="https://blog.050623.xyz/posts/study/cf1032/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.css" rel="preload stylesheet" as="style">
<link rel="icon" href="https://blog.050623.xyz/img/a.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://blog.050623.xyz/img/a.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://blog.050623.xyz/img/a.png">
<link rel="apple-touch-icon" href="https://blog.050623.xyz/img/a.png">
<link rel="mask-icon" href="https://blog.050623.xyz/img/a.png">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh" href="https://blog.050623.xyz/posts/study/cf1032/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/katex.min.css" integrity="sha384-bYdxxUwYipFNohQlHt0bjN/LCpueqWz13HufFEV1SUatKs1cm4L6fFgCi1jT643X" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/katex.min.js" integrity="sha384-Qsn9KnoKISj6dI8g7p1HBlNpVx0I8p1SvlwOldgi3IorMle61nQy4zEahWYtljaz" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/contrib/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"></script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
          
          
          delimiters: [
              {left: '$$', right: '$$', display: true},
              {left: '$', right: '$', display: false},
              {left: '\\(', right: '\\)', display: false},
              {left: '\\[', right: '\\]', display: true}
          ],
          
          throwOnError : false
        });
    });
</script>



  

<meta property="og:title" content="Codeforces Round 1032 (Div. 3)" />
<meta property="og:description" content="è¡¥é¢˜" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blog.050623.xyz/posts/study/cf1032/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2025-07-09T17:48:30+08:00" />
<meta property="article:modified_time" content="2025-07-09T17:48:30+08:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Codeforces Round 1032 (Div. 3)"/>
<meta name="twitter:description" content="è¡¥é¢˜"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://blog.050623.xyz/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "ğŸ“– å­¦ä¹ ",
      "item": "https://blog.050623.xyz/posts/study/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "Codeforces Round 1032 (Div. 3)",
      "item": "https://blog.050623.xyz/posts/study/cf1032/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Codeforces Round 1032 (Div. 3)",
  "name": "Codeforces Round 1032 (Div. 3)",
  "description": "è¡¥é¢˜",
  "keywords": [
    "Codeforces", "è¡¥é¢˜"
  ],
  "articleBody": "A. Letter Home è¦ä¹ˆå…ˆèµ°åˆ°å·¦ä¾§ï¼Œè¦ä¹ˆèµ°åˆ°å³ä¾§ï¼Œç„¶åæ•´è¡Œèµ°äº†ã€‚\n#include using namespace std; #define endl \"\\n\" typedef long long ll; const int N = 1e5 + 7, mod = 1e9 + 7; void solve() { int n, m; cin \u003e\u003e n \u003e\u003e m; vector\u003cint\u003e x(n + 1); for (int i = 1; i \u003c= n; i++) { cin \u003e\u003e x[i]; } int ans = min(abs(m - x[1]), abs(x[n] - m)) + x[n] - x[1]; cout \u003c\u003c ans \u003c\u003c endl; } int main() { ios::sync_with_stdio(0); cin.tie(0); cout.tie(0); int t = 1; cin \u003e\u003e t; while (t--) solve(); return 0; } B. Above the Clouds è€ƒè™‘ b åªæœ‰ä¸€ä¸ªå­—ç¬¦ï¼Œå¦‚æœè¿™ä¸ªå­—ç¬¦å‡ºç°æ¬¡æ•°å¤§äº 2ï¼Œé‚£ä¹ˆä¸€å®š Yesã€‚\n#include using namespace std; #define endl \"\\n\" typedef long long ll; const int N = 1e5 + 7, mod = 1e9 + 7; void solve() { int n; string s; cin \u003e\u003e n \u003e\u003e s; vector\u003cint\u003e cnt(26, 0); for (char c : s) { cnt[c - 'a']++; } for (int i = 1; i \u003c n - 1; i++) { if (cnt[s[i] - 'a'] \u003e 1) { cout \u003c\u003c \"YES\" \u003c\u003c endl; return; } } cout \u003c\u003c \"NO\" \u003c\u003c endl; } int main() { ios::sync_with_stdio(0); cin.tie(0); cout.tie(0); int t = 1; cin \u003e\u003e t; while (t--) solve(); return 0; } C. Those Who Are With Us å¯ä»¥å‘ç°ç­”æ¡ˆåªå¯èƒ½æ˜¯ mxï¼Œæˆ– mx - 1ã€‚\nç»Ÿè®¡æ¯è¡Œæ¯åˆ—ä¸­çš„ mx ä¸ªæ•°ï¼Œéå†æ¯ä¸ªå…ƒç´ ï¼Œçœ‹è¡Œåˆ—ä¸Šæœ‰å¤šå°‘ä¸ª mxï¼Œå¦‚æœè¿™ä¸ªå…ƒç´ æœ¬èº«æ˜¯ mx, é‚£ä¹ˆä¼šå¤šç®—ä¸€ä¸ªï¼Œè¦å‡å»ã€‚\n#include using namespace std; #define endl \"\\n\" typedef long long ll; const int N = 1e5 + 7, mod = 1e9 + 7; void solve() { int n, m; cin \u003e\u003e n \u003e\u003e m; int mx = 0; map\u003cint, int\u003e cnt; map\u003cint, int\u003e row, col; vector\u003cvector\u003cint\u003e\u003e a(n + 1, vector\u003cint\u003e(m + 1)); for (int i = 1; i \u003c= n; i++) { for (int j = 1; j \u003c= m; j++) { int x; cin \u003e\u003e x; mx = max(mx, x); cnt[x]++; a[i][j] = x; } } int ans = mx; for (int i = 1; i \u003c= n; i++) { for (int j = 1; j \u003c= m; j++) { if(a[i][j] == mx) row[i]++, col[j]++; } } for (int i = 1; i \u003c= n; i++) { for (int j = 1; j \u003c= m; j++) { int tmp = row[i] + col[j]; if (a[i][j] == mx) tmp--; if (tmp == cnt[mx]) { cout \u003c\u003c ans - 1 \u003c\u003c endl; return; } } } cout \u003c\u003c ans \u003c\u003c endl; } int main() { ios::sync_with_stdio(0); cin.tie(0); cout.tie(0); int t = 1; cin \u003e\u003e t; while (t--) solve(); return 0; } D. 1709 å¯ä»¥è§‚å¯Ÿåˆ°ï¼Œæ•°ç»„æå°ï¼Œä»… 40ï¼Œæš´åŠ›æ¥æå³å¯ï¼Œå¯¹ä¸¤ä¸ªæ•°ç»„å†’æ³¡ï¼Œå†ä»å¤´åˆ°å°¾åˆ¤æ–­ä¸Šé¢ä¸èƒ½æ¯”ä¸‹é¢å¤§å³å¯ã€‚\n#include using namespace std; #define endl \"\\n\" typedef long long ll; const int N = 1e5 + 7, mod = 1e9 + 7; void solve() { int n; cin \u003e\u003e n; vector\u003cint\u003e a(n + 1), b(n + 1); for (int i = 1; i \u003c= n; i++) { cin \u003e\u003e a[i]; } for (int i = 1; i \u003c= n; i++) { cin \u003e\u003e b[i]; } vector\u003cpair\u003cint, int\u003e\u003e ans; for (int i = 1; i \u003c= n; i++) { for (int j = 2; j \u003c= n; j++) { if (a[j - 1] \u003e a[j]) { swap(a[j - 1], a[j]); ans.push_back({1, j - 1}); } } } for (int i = 1; i \u003c= n; i++) { for (int j = 2; j \u003c= n; j++) { if (b[j - 1] \u003e b[j]) { swap(b[j - 1], b[j]); ans.push_back({2, j - 1}); } } } for (int i = 1; i \u003c= n; i++) { if (a[i] \u003e b[i]) { ans.push_back({3, i}); } } cout \u003c\u003c ans.size() \u003c\u003c endl; for (auto \u0026p : ans) { cout \u003c\u003c p.first \u003c\u003c \" \" \u003c\u003c p.second \u003c\u003c endl; } } int main() { ios::sync_with_stdio(0); cin.tie(0); cout.tie(0); int t = 1; cin \u003e\u003e t; while (t--) solve(); return 0; } E. Sponsor of Your Problems æ•°ä½ DPï¼Œä»å·¦å¾€å³çœ‹ä¸¤ä¸ªæ•°ã€‚\næœ‰ä¸¤ç§ç‰¹æ®Šæƒ…å†µï¼š\nå·¦ä¾§ç‰‡æ®µå’Œ l ç›¸åŒï¼Œå½“å‰è¿™ä¸€ä½åªèƒ½ \u003e= $l_i$ å·¦ä¾§ç‰‡æ®µå’Œ r ç›¸åŒï¼Œå½“å‰è¿™ä¸€ä½åªèƒ½ \u003c= $r_i$ å…¶ä½™æƒ…å†µèƒ½ä»»æ„å–ï¼Œä¿è¯æœ€å°å³å¯ã€‚\nå…·ä½“å¯å‚è€ƒä»£ç \n#include using namespace std; #define endl \"\\n\" typedef long long ll; const int N = 1e5 + 7, mod = 1e9 + 7; void solve() { string l, r; cin \u003e\u003e l \u003e\u003e r; int n = l.size(); vector\u003cvector\u003cint\u003e\u003e f(2, vector\u003cint\u003e(2, 0)), nf(2, vector\u003cint\u003e(2, 0)); //ä¼˜åŒ–ç©ºé—´ï¼Œåªå¼€ä¸¤å±‚ã€‚ for (int i = 0; i \u003c 2; i++) { for (int j = 0; j \u003c 2; j++) f[i][j] = nf[i][j] = 1e9; } f[1][1] = 0; for (int i = 0; i \u003c n; i++) { for (int a = 0; a \u003c 2; ++a) for (int b = 0; b \u003c 2; ++b) nf[a][b] = 1e9; int dl = l[i] - '0', dr = r[i] - '0'; for (int a = 0; a \u003c 2; ++a) { for (int b = 0; b \u003c 2; ++b) { if (f[a][b] \u003c 1e9) { int lo = a ? dl : 0; //å¦‚æœå‰é¢å’Œ l ç›¸åŒï¼Œåˆ™åªèƒ½å–å¤§äºç­‰äº l å½“å‰ä½ int hi = b ? dr : 9; //å¦‚æœå‰é¢å’Œ r ç›¸åŒï¼Œåˆ™åªèƒ½å–å°äºç­‰äº r å½“å‰ä½ for (int d = lo; d \u003c= hi; d++) { int c = (d == dl) + (d == dr); //å½“å‰ä»£ä»· int na = a \u0026\u0026 (d == dl); //å‰é¢ç›¸åŒï¼ŒåŒæ—¶è¿™ä¸€ä½ä¹Ÿç›¸åŒï¼Œä¿ç•™çŠ¶æ€ int nb = b \u0026\u0026 (d == dr); nf[na][nb] = min(nf[na][nb], f[a][b] + c); //å–æœ€ä¼˜ } } } } f = nf; } int ans = min({f[0][0], f[0][1], f[1][0], f[1][1]}); cout \u003c\u003c ans \u003c\u003c endl; } int main() { ios::sync_with_stdio(0); cin.tie(0); cout.tie(0); int t = 1; cin \u003e\u003e t; while (t--) solve(); return 0; } F. Yamakasi ç»Ÿè®¡å‰ç¼€å’Œå‡ºç°æ¬¡æ•°ï¼ŒæŸ¥æ‰¾å½“å‰å‰ç¼€å’Œ - s çš„å‡ºç°æ¬¡æ•°ï¼Œä»¥å¤§äº x çš„ä¸ºåˆ†ç•Œçº¿ï¼Œé‡åˆ°å°±é‡ç½®å½“å‰ç»Ÿè®¡é‡ã€‚\nä»¥å‡½æ•°å®ç°ï¼ŒæŸ¥æ‰¾ x å’Œ x - 1 ç›¸å‡å³åªå‰©ä¸‹ x çš„\n#include using namespace std; #define endl \"\\n\" typedef long long ll; const int N = 1e5 + 7, mod = 1e9 + 7; void solve() { ll n, s, x; cin \u003e\u003e n \u003e\u003e s \u003e\u003e x; vector\u003cll\u003e a(n + 10), pre(n + 10); for (int i = 1; i \u003c= n; i++) { cin \u003e\u003e a[i]; pre[i] = pre[i - 1] + a[i]; } ll ans = 0; auto calc = [\u0026](ll x) { map\u003cll, int\u003e cnt; cnt[0] = 1; ll res = 0; for (int i = 1; i \u003c= n; i++) { if (a[i] \u003e x) { cnt.clear(); } if (cnt.count(pre[i] - s)) { res += cnt[pre[i] - s]; } cnt[pre[i]]++; } return res; }; ans = calc(x) - calc(x - 1); cout \u003c\u003c ans \u003c\u003c endl; } int main() { ios::sync_with_stdio(0); cin.tie(0); cout.tie(0); int t = 1; cin \u003e\u003e t; while (t--) solve(); return 0; } G. Gangsta è®¾ 1 å‡ºç°æ¬¡æ•°ä¸º aï¼Œ0 å‡ºç°æ¬¡æ•°ä¸º bï¼Œé‚£ä¹ˆ $\\max(a, b) = \\frac{a + b + |a - b|}{2}$\nå³ $f(s_{l..r}) = \\frac{(c_0(l, r) + c_1(l, r)) + |c_1(l, r) - c_0(l, r)|}{2}$\nç°åœ¨ï¼Œæ€»å’Œ $S$ å¯ä»¥è¢«åˆ†è§£ä¸ºä¸¤éƒ¨åˆ†ï¼š $S = \\sum_{1 \\le l \\le r \\le n} \\frac{(c_0(l, r) + c_1(l, r)) + |c_1(l, r) - c_0(l, r)|}{2}$ $S = \\frac{1}{2} \\left( \\sum_{1 \\le l \\le r \\le n} (c_0(l, r) + c_1(l, r)) + \\sum_{1 \\le l \\le r \\le n} |c_1(l, r) - c_0(l, r)| \\right)$\n#include using namespace std; #define endl \"\\n\" typedef long long ll; const int N = 1e5 + 7, mod = 1e9 + 7; void solve() { int n; string s; cin \u003e\u003e n \u003e\u003e s; vector\u003cll\u003e p(n + 1, 0); for (int i = 1; i \u003c= n; i++) { if (s[i - 1] == '1') p[i] = p[i - 1] + 1; else p[i] = p[i - 1] - 1; } sort(p.begin(), p.end()); ll ans = 0; ll sum = 0, tot = 0; for (int i = 0; i \u003c= n; i++) { tot += i * p[i] - sum; sum += p[i]; } ll total = 1ll * n * (n + 1) * (n + 2) / 6; ans = (total + tot) / 2; cout \u003c\u003c ans \u003c\u003c endl; } int main() { ios::sync_with_stdio(0); cin.tie(0); cout.tie(0); int t = 1; cin \u003e\u003e t; while (t--) solve(); return 0; } H. Ice Baby æ€ç»´è·¯å¾„\né—®é¢˜çš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿ æˆ‘ä»¬æƒ³æ‰¾ä¸€ä¸ªæœ€é•¿çš„ç´¢å¼•åºåˆ— $1 \\leq i_1 \u003c i_2 \u003c â€¦ \u003c i_m \\leq k$ï¼Œä½¿å¾—æˆ‘ä»¬èƒ½å¤Ÿæ‰¾åˆ°å¯¹åº”çš„å€¼ $a_{i_1}, a_{i_2}, â€¦, a_{i_m}$ï¼Œæ»¡è¶³ $l_{i_j} \\leq a_{i_j} \\leq r_{i_j}$ ä¸” $a_{i_1} \\leq a_{i_2} \\leq â€¦ \\leq a_{i_m}$ã€‚\nä¸€ä¸ªå­åºåˆ—ä½•æ—¶â€œå¯èƒ½â€æ˜¯éé€’å‡çš„ï¼Ÿ è€ƒè™‘ä¸¤ä¸ªç´¢å¼• $i \u003c j$ã€‚æˆ‘ä»¬ä»€ä¹ˆæ—¶å€™ä¸€å®šä¸èƒ½è®© $a_i \\leq a_j$ï¼Ÿå½“ $a_i$ çš„å–å€¼èŒƒå›´ $[l_i, r_i]$ ä¸­çš„ä»»ä½•æ•°éƒ½å¤§äº $a_j$ çš„å–å€¼èŒƒå›´ $[l_j, r_j]$ ä¸­çš„ä»»ä½•æ•°æ—¶ã€‚è¿™ç§æƒ…å†µå‘ç”Ÿçš„æ¡ä»¶æ˜¯ $l_i \u003e r_j$ã€‚å¦‚æœ $l_i \u003e r_j$ï¼Œé‚£ä¹ˆä»»ä½• $a_i \\geq l_i$ å’Œ $a_j \\leq r_j$ éƒ½å¿…ç„¶å¯¼è‡´ $a_i \u003e a_j$ã€‚\né—®é¢˜è½¬åŒ–ï¼šååºé›†ä¸Dilworthå®šç† æˆ‘ä»¬å¯ä»¥åŸºäºä¸Šè¿°è§‚å¯Ÿå®šä¹‰ä¸€ä¸ªååºå…³ç³»ã€‚åœ¨é›†åˆ ${1, 2, â€¦, k}$ ä¸Šå®šä¹‰ä¸€ä¸ªå…³ç³» $\\prec$ï¼š $i \\prec j$ å½“ä¸”ä»…å½“ $i \u003c j$ ä¸” $l_i \u003e r_j$ã€‚ è¿™ä¸ªå…³ç³» $i \\prec j$ æ„å‘³ç€åœ¨ä»»ä½•åˆæ³•çš„æ•°ç»„ $a$ ä¸­ï¼Œ$a_i$ å¿…é¡»ä¸¥æ ¼å¤§äº $a_j$ã€‚\né“¾ (Chain)ï¼šä¸€ä¸ªç´¢å¼•åºåˆ— $i_1, i_2, â€¦, i_p$ å¦‚æœæ»¡è¶³ $i_1 \\prec i_2 \\prec â€¦ \\prec i_p$ï¼Œåˆ™ç§°ä¸ºä¸€ä¸ªé“¾ã€‚æ ¹æ®å®šä¹‰ï¼Œè¿™å¯¹åº”ä¸€ä¸ªå¿…é¡»ä¸¥æ ¼é€’å‡çš„å­åºåˆ—ã€‚ åé“¾ (Antichain)ï¼šä¸€ä¸ªç´¢å¼•é›†åˆ $A$ å¦‚æœå…¶ä¸­ä»»æ„ä¸¤ä¸ªå…ƒç´  $i, j$ éƒ½ä¸å¯æ¯”ï¼ˆå³ $i \\not\\prec j$ ä¸” $j \\not\\prec i$ï¼‰ï¼Œåˆ™ç§°ä¸ºä¸€ä¸ªåé“¾ã€‚å¯¹äº $i, j \\in A$ ä¸” $i \u003c j$ï¼Œæˆ‘ä»¬æœ‰ $i \\not\\prec j$ï¼Œè¿™æ„å‘³ç€ $l_i \\leq r_j$ã€‚\nå…³é”®è”ç³»\nä¸€ä¸ªç´¢å¼•åºåˆ—å¯ä»¥æ„æˆéé€’å‡å­åºåˆ—ï¼Œå½“ä¸”ä»…å½“å®ƒæ˜¯ä¸€ä¸ªåé“¾ã€‚\nè¯æ˜ (â‡’): å¦‚æœ $i_1 \u003c â€¦ \u003c i_m$ å¯ä»¥æ„æˆéé€’å‡å­åºåˆ—ï¼Œé‚£ä¹ˆå­˜åœ¨ $a_{i_1} \\leq â€¦ \\leq a_{i_m}$ã€‚å¯¹äºä»»æ„ $p \u003c q$ï¼Œæˆ‘ä»¬æœ‰ $a_{i_p} \\leq a_{i_q}$ã€‚åŒæ—¶ $l_{i_p} \\leq a_{i_p}$ ä¸” $a_{i_q} \\leq r_{i_q}$ï¼Œæ‰€ä»¥ $l_{i_p} \\leq r_{i_q}$ã€‚è¿™ä¸ $i_p \\prec i_q$ çš„å®šä¹‰ $l_{i_p} \u003e r_{i_q}$ çŸ›ç›¾ã€‚æ‰€ä»¥ $i_p \\not\\prec i_q$ï¼Œè¯¥åºåˆ—æ˜¯åé“¾ã€‚ è¯æ˜ (â‡): å¦‚æœ ${i_1, â€¦, i_m}$ æ˜¯ä¸€ä¸ªåé“¾ ($i_1 \u003c â€¦ \u003c i_m$)ï¼Œé‚£ä¹ˆå¯¹ä»»æ„ $p \u003c q$ éƒ½æœ‰ $l_{i_p} \\leq r_{i_q}$ã€‚æˆ‘ä»¬å¯ä»¥æ„é€ ä¸€ä¸ªåˆæ³•çš„éé€’å‡åºåˆ—ã€‚ä¾‹å¦‚ï¼Œä»¤ $a_{i_j} = \\max(l_{i_1}, l_{i_2}, â€¦, l_{i_j})$ã€‚è¿™ä¸ªåºåˆ—æ˜¾ç„¶éé€’å‡ã€‚æˆ‘ä»¬åªéœ€éªŒè¯å…¶åˆæ³•æ€§ï¼Œå³ $a_{i_j} \\leq r_{i_j}$ã€‚$a_{i_j}$ æ˜¯æŸä¸ª $l_{i_p}$ ($p \\leq j$)ã€‚å› ä¸ºæ˜¯åé“¾ï¼Œæ‰€ä»¥ $l_{i_p} \\leq r_{i_j}$ã€‚å› æ­¤æ„é€ åˆæ³•ã€‚\nåº”ç”¨Dilworthå®šç† æˆ‘ä»¬çš„é—®é¢˜å˜æˆäº†ï¼šå¯¹äºæ¯ä¸ª $k$ï¼Œåœ¨ååºé›† $({1,â€¦,k}, \\prec)$ ä¸­æ‰¾åˆ°æœ€å¤§åé“¾çš„é•¿åº¦ã€‚ Dilworthå®šç†æŒ‡å‡ºï¼šåœ¨ä¸€ä¸ªååºé›†ä¸­ï¼Œæœ€å¤§åé“¾çš„é•¿åº¦ç­‰äºæœ€å°é“¾åˆ’åˆ†çš„å¤§å°ã€‚ ï¼ˆæœ€å°é“¾åˆ’åˆ†ï¼šç”¨æœ€å°‘æ•°é‡çš„é“¾æ¥è¦†ç›–é›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ ï¼‰ã€‚\nè´ªå¿ƒç®—æ³•æ±‚è§£æœ€å°é“¾åˆ’åˆ† æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªåœ¨çº¿çš„è´ªå¿ƒç®—æ³•æ¥æ±‚è§£æœ€å°é“¾åˆ’åˆ†çš„å¤§å°ã€‚è¿™ä¸ªç®—æ³•ä¸è€å¿ƒæ’åº (Patience Sorting) çš„æ€æƒ³éå¸¸ç›¸ä¼¼ã€‚\næˆ‘ä»¬ç»´æŠ¤ä¸€ç³»åˆ—é“¾ï¼Œå¹¶åªå…³å¿ƒæ¯æ¡é“¾çš„æœ«å°¾å…ƒç´ ã€‚ å½“æˆ‘ä»¬å¤„ç†æ–°çš„ç´¢å¼• $k$ æ—¶ï¼Œæˆ‘ä»¬å°è¯•ç”¨å®ƒæ¥æ‰©å±•ä¸€æ¡å·²æœ‰çš„é“¾ã€‚ $k$ å¯ä»¥æ‰©å±•ä¸€æ¡ä»¥ $j$ ç»“å°¾çš„é“¾ï¼Œå½“ä¸”ä»…å½“ $j \\prec k$ï¼Œå³ $j \u003c k$ (è‡ªç„¶æ»¡è¶³) ä¸” $l_j \u003e r_k$ã€‚ è´ªå¿ƒç­–ç•¥ï¼šå¦‚æœæœ‰å¤šæ¡é“¾å¯ä»¥è¢« $k$ æ‰©å±•ï¼Œæˆ‘ä»¬åº”è¯¥é€‰æ‹©å“ªä¸€æ¡ï¼Ÿä¸ºäº†ç»™åç»­çš„å…ƒç´ ç•™ä¸‹æ›´å¤šé€‰æ‹©ï¼Œæˆ‘ä»¬åº”è¯¥æ‰©å±•é‚£æ¡â€œæœ€éš¾è¢«æ‰©å±•â€çš„é“¾ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬é€‰æ‹© $l_j$ æœ€å°ä½†ä»æ»¡è¶³ $l_j \u003e r_k$ çš„é‚£æ¡é“¾ã€‚ å¦‚æœæ‰¾ä¸åˆ°ä»»ä½•å¯ä»¥è¢« $k$ æ‰©å±•çš„é“¾ï¼ˆå³å¯¹æ‰€æœ‰é“¾çš„æœ«ç«¯ $j$ï¼Œéƒ½æœ‰ $l_j \\leq r_k$ï¼‰ï¼Œæˆ‘ä»¬å°±å¿…é¡»ç”¨ $k$ å¼€å§‹ä¸€æ¡æ–°çš„é“¾ã€‚ åœ¨ä»»ä½•æ—¶å€™ï¼Œé“¾çš„æ•°é‡å°±æ˜¯å½“å‰é›†åˆçš„æœ€å°é“¾åˆ’åˆ†æ•°ã€‚\næ•°æ®ç»“æ„å®ç° è¿™ä¸ªè´ªå¿ƒç­–ç•¥å¯ä»¥ç”¨ä¸€ä¸ª multiset (æˆ–ä»»ä½•å¹³è¡¡äºŒå‰æœç´¢æ ‘) é«˜æ•ˆå®ç°ã€‚\nmultiset s ç”¨æ¥å­˜å‚¨å½“å‰æ‰€æœ‰é“¾çš„æœ«ç«¯å…ƒç´ çš„ $l$ å€¼ã€‚ å½“å¤„ç†ç¬¬ $k$ ä¸ªåŒºé—´ $[l_k, r_k]$ æ—¶ï¼š\næˆ‘ä»¬å¯»æ‰¾ä¸€ä¸ª $l_j \\in s$ æ»¡è¶³ $l_j \u003e r_k$ã€‚æ ¹æ®è´ªå¿ƒç­–ç•¥ï¼Œæˆ‘ä»¬è¦æ‰¾æœ€å°çš„é‚£ä¸ª $l_j$ã€‚è¿™æ­£æ˜¯ *s.upper_bound(r_k)ã€‚ å¦‚æœæ‰¾åˆ°äº† (å³ s.upper_bound(r_k) ä¸æ˜¯ s.end())ï¼Œè¯´æ˜æˆ‘ä»¬å¯ä»¥æ‰©å±•è¿™æ¡é“¾ã€‚æˆ‘ä»¬å°† $k$ ä½œä¸ºè¿™æ¡é“¾æ–°çš„æœ«ç«¯ã€‚äºæ˜¯ï¼Œä» s ä¸­åˆ é™¤æ—§çš„ $l_j$ï¼Œå¹¶æ’å…¥æ–°çš„ $l_k$ã€‚ å¦‚æœæ²¡æ‰¾åˆ°ï¼Œè¯´æ˜ $k$ æ— æ³•æ‰©å±•ä»»ä½•ç°æœ‰é“¾ã€‚æˆ‘ä»¬å¿…é¡»ç”¨ $k$ å¼€å¯ä¸€æ¡æ–°é“¾ã€‚äºæ˜¯ï¼Œæˆ‘ä»¬ç›´æ¥å‘ s ä¸­æ’å…¥ $l_k$ã€‚\nè¿™ä¸¤ä¸ªæƒ…å†µå¯ä»¥åˆå¹¶ï¼šæˆ‘ä»¬æ€»æ˜¯è¦æ’å…¥ $l_k$ (ä½œä¸ºæ–°é“¾æˆ–æ‰©å±•é“¾çš„æ–°æœ«ç«¯)ã€‚å¦‚æœæ‰©å±•äº†æ—§é“¾ï¼Œæˆ‘ä»¬æ‰éœ€è¦åˆ é™¤æ—§æœ«ç«¯çš„ $l_j$ã€‚ æ‰€ä»¥ï¼Œä»£ç é€»è¾‘æ˜¯ï¼š a. æŸ¥æ‰¾ pos = s.upper_bound(r_k)ã€‚ b. s.insert(l_k)ã€‚ c. å¦‚æœ pos æœ‰æ•ˆ (ä¸ç­‰äº s.end())ï¼Œs.erase(pos)ã€‚ æ¯ä¸€æ­¥æ“ä½œåï¼Œs.size() å°±æ˜¯å½“å‰ ${1, â€¦, k}$ çš„æœ€å°é“¾åˆ’åˆ†æ•°ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è¦æ‰¾çš„æœ€å¤§LNDSé•¿åº¦ã€‚\n#include using namespace std; #define endl \"\\n\" typedef long long ll; const int N = 1e5 + 7, mod = 1e9 + 7; void solve() { int n; cin \u003e\u003e n; multiset\u003cint\u003e s; // s.insert(0); for (int i = 1; i \u003c= n; i++) { int l, r; cin \u003e\u003e l \u003e\u003e r; auto pos = s.upper_bound(r); s.insert(l); if (pos != s.end()) s.erase(pos); cout \u003c\u003c s.size() \u003c\u003c \" \"; } cout \u003c\u003c endl; } int main() { ios::sync_with_stdio(0); cin.tie(0); cout.tie(0); int t = 1; cin \u003e\u003e t; while (t--) solve(); return 0; } ",
  "wordCount" : "3427",
  "inLanguage": "zh",
  "datePublished": "2025-07-09T17:48:30+08:00",
  "dateModified": "2025-07-09T17:48:30+08:00",
  "author":[{
    "@type": "Person",
    "name": "KiritoXD"
  }],
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://blog.050623.xyz/posts/study/cf1032/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "KiritoXD's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://blog.050623.xyz/img/a.png"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://blog.050623.xyz/" accesskey="h" title="KiritoXD&#39;s Blog (Alt + H)">
                <img src="https://blog.050623.xyz/img/a.png" alt="" aria-label="logo"
                    height="35">KiritoXD&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://blog.050623.xyz/search" title="ğŸ” æœç´¢ (Alt &#43; /)" accesskey=/>
                    <span>ğŸ” æœç´¢</span>
                </a>
            </li>
            <li>
                <a href="https://blog.050623.xyz/" title="ğŸ  ä¸»é¡µ">
                    <span>ğŸ  ä¸»é¡µ</span>
                </a>
            </li>
            <li>
                <a href="https://blog.050623.xyz/posts" title="ğŸ“š æ–‡ç« ">
                    <span>ğŸ“š æ–‡ç« </span>
                </a>
            </li>
            <li>
                <a href="https://blog.050623.xyz/about" title="ğŸ™‹ğŸ»â€â™‚ï¸ å…³äº">
                    <span>ğŸ™‹ğŸ»â€â™‚ï¸ å…³äº</span>
                </a>
            </li>
            <li>
                <a href="https://blog.050623.xyz/archives/" title="â±ï¸ å½’æ¡£">
                    <span>â±ï¸ å½’æ¡£</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://blog.050623.xyz/">ä¸»é¡µ</a>&nbsp;Â»&nbsp;<a href="https://blog.050623.xyz/posts/">Posts</a>&nbsp;Â»&nbsp;<a href="https://blog.050623.xyz/posts/study/">ğŸ“– å­¦ä¹ </a></div>
    <h1 class="post-title entry-hint-parent">
      Codeforces Round 1032 (Div. 3)
    </h1>
    <div class="post-meta">

<span title='2025-07-09 17:48:30 +0800 CST'>2025-07-09</span>&nbsp;Â·&nbsp;7 åˆ†é’Ÿ&nbsp;Â·&nbsp;3427 å­—&nbsp;Â·&nbsp;KiritoXD

</div>
  </header>
  <div class="post-password">
    
  </div> <aside id="toc-container" class="toc-container wide">
    <div class="toc">
        <details  open>
            <summary accesskey="c" title="(Alt + C)">
                <span class="details">ç›®å½•</span>
            </summary>

            <div class="inner"><ul>
                    <li>
                        <a href="#a-letter-home" aria-label="A. Letter Home">A. Letter Home</a></li>
                    <li>
                        <a href="#b-above-the-clouds" aria-label="B. Above the Clouds">B. Above the Clouds</a></li>
                    <li>
                        <a href="#c-those-who-are-with-us" aria-label="C. Those Who Are With Us">C. Those Who Are With Us</a></li>
                    <li>
                        <a href="#d-1709" aria-label="D. 1709">D. 1709</a></li>
                    <li>
                        <a href="#e-sponsor-of-your-problems" aria-label="E. Sponsor of Your Problems">E. Sponsor of Your Problems</a></li>
                    <li>
                        <a href="#f-yamakasi" aria-label="F. Yamakasi">F. Yamakasi</a></li>
                    <li>
                        <a href="#g-gangsta" aria-label="G. Gangsta">G. Gangsta</a></li>
                    <li>
                        <a href="#h-ice-baby" aria-label="H. Ice Baby">H. Ice Baby</a>
                    </li>
                </ul>
            </div>
        </details>
    </div>
</aside>
<script>
    let activeElement;
    let elements;
    window.addEventListener('DOMContentLoaded', function (event) {
        checkTocPosition();

        elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]');
         
         activeElement = elements[0];
         const id = encodeURI(activeElement.getAttribute('id')).toLowerCase();
         document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
     }, false);

    window.addEventListener('resize', function(event) {
        checkTocPosition();
    }, false);

    window.addEventListener('scroll', () => {
        
        activeElement = Array.from(elements).find((element) => {
            if ((getOffsetTop(element) - window.pageYOffset) > 0 && 
                (getOffsetTop(element) - window.pageYOffset) < window.innerHeight/2) {
                return element;
            }
        }) || activeElement

        elements.forEach(element => {
             const id = encodeURI(element.getAttribute('id')).toLowerCase();
             if (element === activeElement){
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
             } else {
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.remove('active');
             }
         })
     }, false);

    const main = parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'), 10);
    const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10);
    const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10);

    function checkTocPosition() {
        const width = document.body.scrollWidth;

        if (width - main - (toc * 2) - (gap * 4) > 0) {
            document.getElementById("toc-container").classList.add("wide");
        } else {
            document.getElementById("toc-container").classList.remove("wide");
        }
    }

    function getOffsetTop(element) {
        if (!element.getClientRects().length) {
            return 0;
        }
        let rect = element.getBoundingClientRect();
        let win = element.ownerDocument.defaultView;
        return rect.top + win.pageYOffset;   
    }
</script>


  <div class="post-content"><h3 id="a-letter-home">A. Letter Home<a hidden class="anchor" aria-hidden="true" href="#a-letter-home">#</a></h3>
<p>è¦ä¹ˆå…ˆèµ°åˆ°å·¦ä¾§ï¼Œè¦ä¹ˆèµ°åˆ°å³ä¾§ï¼Œç„¶åæ•´è¡Œèµ°äº†ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#6c7086;font-style:italic">#include</span> <span style="color:#6c7086;font-weight:bold;font-style:italic">&lt;bits/stdc++.h&gt;</span><span style="color:#6c7086;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#6c7086;font-style:italic"></span><span style="color:#cba6f7">using</span> <span style="color:#cba6f7">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#6c7086;font-style:italic">#define endl &#34;\n&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#6c7086;font-style:italic"></span><span style="color:#cba6f7">typedef</span> <span style="color:#f38ba8">long</span> <span style="color:#f38ba8">long</span> ll;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cba6f7">const</span> <span style="color:#f38ba8">int</span> N <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1e5</span> <span style="color:#89dceb;font-weight:bold">+</span> <span style="color:#fab387">7</span>, mod <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1e9</span> <span style="color:#89dceb;font-weight:bold">+</span> <span style="color:#fab387">7</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f38ba8">void</span> <span style="color:#89b4fa">solve</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#f38ba8">int</span> n, m;
</span></span><span style="display:flex;"><span>    cin <span style="color:#89dceb;font-weight:bold">&gt;&gt;</span> n <span style="color:#89dceb;font-weight:bold">&gt;&gt;</span> m;
</span></span><span style="display:flex;"><span>    vector<span style="color:#89dceb;font-weight:bold">&lt;</span><span style="color:#f38ba8">int</span><span style="color:#89dceb;font-weight:bold">&gt;</span> x(n <span style="color:#89dceb;font-weight:bold">+</span> <span style="color:#fab387">1</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#cba6f7">for</span> (<span style="color:#f38ba8">int</span> i <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1</span>; i <span style="color:#89dceb;font-weight:bold">&lt;=</span> n; i<span style="color:#89dceb;font-weight:bold">++</span>) {
</span></span><span style="display:flex;"><span>        cin <span style="color:#89dceb;font-weight:bold">&gt;&gt;</span> x[i];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#f38ba8">int</span> ans <span style="color:#89dceb;font-weight:bold">=</span> min(abs(m <span style="color:#89dceb;font-weight:bold">-</span> x[<span style="color:#fab387">1</span>]), abs(x[n] <span style="color:#89dceb;font-weight:bold">-</span> m)) <span style="color:#89dceb;font-weight:bold">+</span> x[n] <span style="color:#89dceb;font-weight:bold">-</span> x[<span style="color:#fab387">1</span>];
</span></span><span style="display:flex;"><span>    cout <span style="color:#89dceb;font-weight:bold">&lt;&lt;</span> ans <span style="color:#89dceb;font-weight:bold">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f38ba8">int</span> <span style="color:#89b4fa">main</span>() {
</span></span><span style="display:flex;"><span>    ios<span style="color:#89dceb;font-weight:bold">::</span>sync_with_stdio(<span style="color:#fab387">0</span>);
</span></span><span style="display:flex;"><span>    cin.tie(<span style="color:#fab387">0</span>);
</span></span><span style="display:flex;"><span>    cout.tie(<span style="color:#fab387">0</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#f38ba8">int</span> t <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1</span>;
</span></span><span style="display:flex;"><span>    cin <span style="color:#89dceb;font-weight:bold">&gt;&gt;</span> t;
</span></span><span style="display:flex;"><span>    <span style="color:#cba6f7">while</span> (t<span style="color:#89dceb;font-weight:bold">--</span>) solve();
</span></span><span style="display:flex;"><span>    <span style="color:#cba6f7">return</span> <span style="color:#fab387">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="b-above-the-clouds">B. Above the Clouds<a hidden class="anchor" aria-hidden="true" href="#b-above-the-clouds">#</a></h3>
<p>è€ƒè™‘ b åªæœ‰ä¸€ä¸ªå­—ç¬¦ï¼Œå¦‚æœè¿™ä¸ªå­—ç¬¦å‡ºç°æ¬¡æ•°å¤§äº 2ï¼Œé‚£ä¹ˆä¸€å®š Yesã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#6c7086;font-style:italic">#include</span> <span style="color:#6c7086;font-weight:bold;font-style:italic">&lt;bits/stdc++.h&gt;</span><span style="color:#6c7086;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#6c7086;font-style:italic"></span><span style="color:#cba6f7">using</span> <span style="color:#cba6f7">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#6c7086;font-style:italic">#define endl &#34;\n&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#6c7086;font-style:italic"></span><span style="color:#cba6f7">typedef</span> <span style="color:#f38ba8">long</span> <span style="color:#f38ba8">long</span> ll;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cba6f7">const</span> <span style="color:#f38ba8">int</span> N <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1e5</span> <span style="color:#89dceb;font-weight:bold">+</span> <span style="color:#fab387">7</span>, mod <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1e9</span> <span style="color:#89dceb;font-weight:bold">+</span> <span style="color:#fab387">7</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f38ba8">void</span> <span style="color:#89b4fa">solve</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#f38ba8">int</span> n;
</span></span><span style="display:flex;"><span>    string s;
</span></span><span style="display:flex;"><span>    cin <span style="color:#89dceb;font-weight:bold">&gt;&gt;</span> n <span style="color:#89dceb;font-weight:bold">&gt;&gt;</span> s;
</span></span><span style="display:flex;"><span>    vector<span style="color:#89dceb;font-weight:bold">&lt;</span><span style="color:#f38ba8">int</span><span style="color:#89dceb;font-weight:bold">&gt;</span> cnt(<span style="color:#fab387">26</span>, <span style="color:#fab387">0</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#cba6f7">for</span> (<span style="color:#f38ba8">char</span> <span style="color:#89dceb">c</span> : s) {
</span></span><span style="display:flex;"><span>        cnt[c <span style="color:#89dceb;font-weight:bold">-</span> <span style="color:#a6e3a1">&#39;a&#39;</span>]<span style="color:#89dceb;font-weight:bold">++</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#cba6f7">for</span> (<span style="color:#f38ba8">int</span> i <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1</span>; i <span style="color:#89dceb;font-weight:bold">&lt;</span> n <span style="color:#89dceb;font-weight:bold">-</span> <span style="color:#fab387">1</span>; i<span style="color:#89dceb;font-weight:bold">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#cba6f7">if</span> (cnt[s[i] <span style="color:#89dceb;font-weight:bold">-</span> <span style="color:#a6e3a1">&#39;a&#39;</span>] <span style="color:#89dceb;font-weight:bold">&gt;</span> <span style="color:#fab387">1</span>) {
</span></span><span style="display:flex;"><span>            cout <span style="color:#89dceb;font-weight:bold">&lt;&lt;</span> <span style="color:#a6e3a1">&#34;YES&#34;</span> <span style="color:#89dceb;font-weight:bold">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>            <span style="color:#cba6f7">return</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout <span style="color:#89dceb;font-weight:bold">&lt;&lt;</span> <span style="color:#a6e3a1">&#34;NO&#34;</span> <span style="color:#89dceb;font-weight:bold">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f38ba8">int</span> <span style="color:#89b4fa">main</span>() {
</span></span><span style="display:flex;"><span>    ios<span style="color:#89dceb;font-weight:bold">::</span>sync_with_stdio(<span style="color:#fab387">0</span>);
</span></span><span style="display:flex;"><span>    cin.tie(<span style="color:#fab387">0</span>);
</span></span><span style="display:flex;"><span>    cout.tie(<span style="color:#fab387">0</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#f38ba8">int</span> t <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1</span>;
</span></span><span style="display:flex;"><span>    cin <span style="color:#89dceb;font-weight:bold">&gt;&gt;</span> t;
</span></span><span style="display:flex;"><span>    <span style="color:#cba6f7">while</span> (t<span style="color:#89dceb;font-weight:bold">--</span>) solve();
</span></span><span style="display:flex;"><span>    <span style="color:#cba6f7">return</span> <span style="color:#fab387">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="c-those-who-are-with-us">C. Those Who Are With Us<a hidden class="anchor" aria-hidden="true" href="#c-those-who-are-with-us">#</a></h3>
<p>å¯ä»¥å‘ç°ç­”æ¡ˆåªå¯èƒ½æ˜¯ mxï¼Œæˆ– mx - 1ã€‚</p>
<p>ç»Ÿè®¡æ¯è¡Œæ¯åˆ—ä¸­çš„ mx ä¸ªæ•°ï¼Œéå†æ¯ä¸ªå…ƒç´ ï¼Œçœ‹è¡Œåˆ—ä¸Šæœ‰å¤šå°‘ä¸ª mxï¼Œå¦‚æœè¿™ä¸ªå…ƒç´ æœ¬èº«æ˜¯ mx, é‚£ä¹ˆä¼šå¤šç®—ä¸€ä¸ªï¼Œè¦å‡å»ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#6c7086;font-style:italic">#include</span> <span style="color:#6c7086;font-weight:bold;font-style:italic">&lt;bits/stdc++.h&gt;</span><span style="color:#6c7086;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#6c7086;font-style:italic"></span><span style="color:#cba6f7">using</span> <span style="color:#cba6f7">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#6c7086;font-style:italic">#define endl &#34;\n&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#6c7086;font-style:italic"></span><span style="color:#cba6f7">typedef</span> <span style="color:#f38ba8">long</span> <span style="color:#f38ba8">long</span> ll;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cba6f7">const</span> <span style="color:#f38ba8">int</span> N <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1e5</span> <span style="color:#89dceb;font-weight:bold">+</span> <span style="color:#fab387">7</span>, mod <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1e9</span> <span style="color:#89dceb;font-weight:bold">+</span> <span style="color:#fab387">7</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f38ba8">void</span> <span style="color:#89b4fa">solve</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#f38ba8">int</span> n, m;
</span></span><span style="display:flex;"><span>    cin <span style="color:#89dceb;font-weight:bold">&gt;&gt;</span> n <span style="color:#89dceb;font-weight:bold">&gt;&gt;</span> m;
</span></span><span style="display:flex;"><span>    <span style="color:#f38ba8">int</span> mx <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">0</span>;
</span></span><span style="display:flex;"><span>    map<span style="color:#89dceb;font-weight:bold">&lt;</span><span style="color:#f38ba8">int</span>, <span style="color:#f38ba8">int</span><span style="color:#89dceb;font-weight:bold">&gt;</span> cnt;
</span></span><span style="display:flex;"><span>    map<span style="color:#89dceb;font-weight:bold">&lt;</span><span style="color:#f38ba8">int</span>, <span style="color:#f38ba8">int</span><span style="color:#89dceb;font-weight:bold">&gt;</span> row, col;
</span></span><span style="display:flex;"><span>    vector<span style="color:#89dceb;font-weight:bold">&lt;</span>vector<span style="color:#89dceb;font-weight:bold">&lt;</span><span style="color:#f38ba8">int</span><span style="color:#89dceb;font-weight:bold">&gt;&gt;</span> a(n <span style="color:#89dceb;font-weight:bold">+</span> <span style="color:#fab387">1</span>, vector<span style="color:#89dceb;font-weight:bold">&lt;</span><span style="color:#f38ba8">int</span><span style="color:#89dceb;font-weight:bold">&gt;</span>(m <span style="color:#89dceb;font-weight:bold">+</span> <span style="color:#fab387">1</span>));
</span></span><span style="display:flex;"><span>    <span style="color:#cba6f7">for</span> (<span style="color:#f38ba8">int</span> i <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1</span>; i <span style="color:#89dceb;font-weight:bold">&lt;=</span> n; i<span style="color:#89dceb;font-weight:bold">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#cba6f7">for</span> (<span style="color:#f38ba8">int</span> j <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1</span>; j <span style="color:#89dceb;font-weight:bold">&lt;=</span> m; j<span style="color:#89dceb;font-weight:bold">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#f38ba8">int</span> x;
</span></span><span style="display:flex;"><span>            cin <span style="color:#89dceb;font-weight:bold">&gt;&gt;</span> x;
</span></span><span style="display:flex;"><span>            mx <span style="color:#89dceb;font-weight:bold">=</span> max(mx, x);
</span></span><span style="display:flex;"><span>            cnt[x]<span style="color:#89dceb;font-weight:bold">++</span>;
</span></span><span style="display:flex;"><span>            a[i][j] <span style="color:#89dceb;font-weight:bold">=</span> x;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#f38ba8">int</span> ans <span style="color:#89dceb;font-weight:bold">=</span> mx;
</span></span><span style="display:flex;"><span>    <span style="color:#cba6f7">for</span> (<span style="color:#f38ba8">int</span> i <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1</span>; i <span style="color:#89dceb;font-weight:bold">&lt;=</span> n; i<span style="color:#89dceb;font-weight:bold">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#cba6f7">for</span> (<span style="color:#f38ba8">int</span> j <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1</span>; j <span style="color:#89dceb;font-weight:bold">&lt;=</span> m; j<span style="color:#89dceb;font-weight:bold">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#cba6f7">if</span>(a[i][j] <span style="color:#89dceb;font-weight:bold">==</span> mx) row[i]<span style="color:#89dceb;font-weight:bold">++</span>, col[j]<span style="color:#89dceb;font-weight:bold">++</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#cba6f7">for</span> (<span style="color:#f38ba8">int</span> i <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1</span>; i <span style="color:#89dceb;font-weight:bold">&lt;=</span> n; i<span style="color:#89dceb;font-weight:bold">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#cba6f7">for</span> (<span style="color:#f38ba8">int</span> j <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1</span>; j <span style="color:#89dceb;font-weight:bold">&lt;=</span> m; j<span style="color:#89dceb;font-weight:bold">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#f38ba8">int</span> tmp <span style="color:#89dceb;font-weight:bold">=</span> row[i] <span style="color:#89dceb;font-weight:bold">+</span> col[j];
</span></span><span style="display:flex;"><span>            <span style="color:#cba6f7">if</span> (a[i][j] <span style="color:#89dceb;font-weight:bold">==</span> mx) tmp<span style="color:#89dceb;font-weight:bold">--</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#cba6f7">if</span> (tmp <span style="color:#89dceb;font-weight:bold">==</span> cnt[mx]) {
</span></span><span style="display:flex;"><span>                cout <span style="color:#89dceb;font-weight:bold">&lt;&lt;</span> ans <span style="color:#89dceb;font-weight:bold">-</span> <span style="color:#fab387">1</span> <span style="color:#89dceb;font-weight:bold">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>                <span style="color:#cba6f7">return</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>   
</span></span><span style="display:flex;"><span>    cout <span style="color:#89dceb;font-weight:bold">&lt;&lt;</span> ans <span style="color:#89dceb;font-weight:bold">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f38ba8">int</span> <span style="color:#89b4fa">main</span>() {
</span></span><span style="display:flex;"><span>    ios<span style="color:#89dceb;font-weight:bold">::</span>sync_with_stdio(<span style="color:#fab387">0</span>);
</span></span><span style="display:flex;"><span>    cin.tie(<span style="color:#fab387">0</span>);
</span></span><span style="display:flex;"><span>    cout.tie(<span style="color:#fab387">0</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#f38ba8">int</span> t <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1</span>;
</span></span><span style="display:flex;"><span>    cin <span style="color:#89dceb;font-weight:bold">&gt;&gt;</span> t;
</span></span><span style="display:flex;"><span>    <span style="color:#cba6f7">while</span> (t<span style="color:#89dceb;font-weight:bold">--</span>) solve();
</span></span><span style="display:flex;"><span>    <span style="color:#cba6f7">return</span> <span style="color:#fab387">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="d-1709">D. 1709<a hidden class="anchor" aria-hidden="true" href="#d-1709">#</a></h3>
<p>å¯ä»¥è§‚å¯Ÿåˆ°ï¼Œæ•°ç»„æå°ï¼Œä»… 40ï¼Œæš´åŠ›æ¥æå³å¯ï¼Œå¯¹ä¸¤ä¸ªæ•°ç»„å†’æ³¡ï¼Œå†ä»å¤´åˆ°å°¾åˆ¤æ–­ä¸Šé¢ä¸èƒ½æ¯”ä¸‹é¢å¤§å³å¯ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#6c7086;font-style:italic">#include</span> <span style="color:#6c7086;font-weight:bold;font-style:italic">&lt;bits/stdc++.h&gt;</span><span style="color:#6c7086;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#6c7086;font-style:italic"></span><span style="color:#cba6f7">using</span> <span style="color:#cba6f7">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#6c7086;font-style:italic">#define endl &#34;\n&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#6c7086;font-style:italic"></span><span style="color:#cba6f7">typedef</span> <span style="color:#f38ba8">long</span> <span style="color:#f38ba8">long</span> ll;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cba6f7">const</span> <span style="color:#f38ba8">int</span> N <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1e5</span> <span style="color:#89dceb;font-weight:bold">+</span> <span style="color:#fab387">7</span>, mod <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1e9</span> <span style="color:#89dceb;font-weight:bold">+</span> <span style="color:#fab387">7</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f38ba8">void</span> <span style="color:#89b4fa">solve</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#f38ba8">int</span> n;
</span></span><span style="display:flex;"><span>    cin <span style="color:#89dceb;font-weight:bold">&gt;&gt;</span> n;
</span></span><span style="display:flex;"><span>    vector<span style="color:#89dceb;font-weight:bold">&lt;</span><span style="color:#f38ba8">int</span><span style="color:#89dceb;font-weight:bold">&gt;</span> a(n <span style="color:#89dceb;font-weight:bold">+</span> <span style="color:#fab387">1</span>), b(n <span style="color:#89dceb;font-weight:bold">+</span> <span style="color:#fab387">1</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#cba6f7">for</span> (<span style="color:#f38ba8">int</span> i <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1</span>; i <span style="color:#89dceb;font-weight:bold">&lt;=</span> n; i<span style="color:#89dceb;font-weight:bold">++</span>) {
</span></span><span style="display:flex;"><span>        cin <span style="color:#89dceb;font-weight:bold">&gt;&gt;</span> a[i];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#cba6f7">for</span> (<span style="color:#f38ba8">int</span> i <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1</span>; i <span style="color:#89dceb;font-weight:bold">&lt;=</span> n; i<span style="color:#89dceb;font-weight:bold">++</span>) {
</span></span><span style="display:flex;"><span>        cin <span style="color:#89dceb;font-weight:bold">&gt;&gt;</span> b[i];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    vector<span style="color:#89dceb;font-weight:bold">&lt;</span>pair<span style="color:#89dceb;font-weight:bold">&lt;</span><span style="color:#f38ba8">int</span>, <span style="color:#f38ba8">int</span><span style="color:#89dceb;font-weight:bold">&gt;&gt;</span> ans;
</span></span><span style="display:flex;"><span>    <span style="color:#cba6f7">for</span> (<span style="color:#f38ba8">int</span> i <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1</span>; i <span style="color:#89dceb;font-weight:bold">&lt;=</span> n; i<span style="color:#89dceb;font-weight:bold">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#cba6f7">for</span> (<span style="color:#f38ba8">int</span> j <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">2</span>; j <span style="color:#89dceb;font-weight:bold">&lt;=</span> n; j<span style="color:#89dceb;font-weight:bold">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#cba6f7">if</span> (a[j <span style="color:#89dceb;font-weight:bold">-</span> <span style="color:#fab387">1</span>] <span style="color:#89dceb;font-weight:bold">&gt;</span> a[j]) {
</span></span><span style="display:flex;"><span>                swap(a[j <span style="color:#89dceb;font-weight:bold">-</span> <span style="color:#fab387">1</span>], a[j]);
</span></span><span style="display:flex;"><span>                ans.push_back({<span style="color:#fab387">1</span>, j <span style="color:#89dceb;font-weight:bold">-</span> <span style="color:#fab387">1</span>});
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#cba6f7">for</span> (<span style="color:#f38ba8">int</span> i <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1</span>; i <span style="color:#89dceb;font-weight:bold">&lt;=</span> n; i<span style="color:#89dceb;font-weight:bold">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#cba6f7">for</span> (<span style="color:#f38ba8">int</span> j <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">2</span>; j <span style="color:#89dceb;font-weight:bold">&lt;=</span> n; j<span style="color:#89dceb;font-weight:bold">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#cba6f7">if</span> (b[j <span style="color:#89dceb;font-weight:bold">-</span> <span style="color:#fab387">1</span>] <span style="color:#89dceb;font-weight:bold">&gt;</span> b[j]) {
</span></span><span style="display:flex;"><span>                swap(b[j <span style="color:#89dceb;font-weight:bold">-</span> <span style="color:#fab387">1</span>], b[j]);
</span></span><span style="display:flex;"><span>                ans.push_back({<span style="color:#fab387">2</span>, j <span style="color:#89dceb;font-weight:bold">-</span> <span style="color:#fab387">1</span>});
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#cba6f7">for</span> (<span style="color:#f38ba8">int</span> i <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1</span>; i <span style="color:#89dceb;font-weight:bold">&lt;=</span> n; i<span style="color:#89dceb;font-weight:bold">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#cba6f7">if</span> (a[i] <span style="color:#89dceb;font-weight:bold">&gt;</span> b[i]) {
</span></span><span style="display:flex;"><span>            ans.push_back({<span style="color:#fab387">3</span>, i});
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout <span style="color:#89dceb;font-weight:bold">&lt;&lt;</span> ans.size() <span style="color:#89dceb;font-weight:bold">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>    <span style="color:#cba6f7">for</span> (<span style="color:#cba6f7">auto</span> <span style="color:#89dceb;font-weight:bold">&amp;</span><span style="color:#89dceb">p</span> : ans) {
</span></span><span style="display:flex;"><span>        cout <span style="color:#89dceb;font-weight:bold">&lt;&lt;</span> p.first <span style="color:#89dceb;font-weight:bold">&lt;&lt;</span> <span style="color:#a6e3a1">&#34; &#34;</span> <span style="color:#89dceb;font-weight:bold">&lt;&lt;</span> p.second <span style="color:#89dceb;font-weight:bold">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f38ba8">int</span> <span style="color:#89b4fa">main</span>() {
</span></span><span style="display:flex;"><span>    ios<span style="color:#89dceb;font-weight:bold">::</span>sync_with_stdio(<span style="color:#fab387">0</span>);
</span></span><span style="display:flex;"><span>    cin.tie(<span style="color:#fab387">0</span>);
</span></span><span style="display:flex;"><span>    cout.tie(<span style="color:#fab387">0</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#f38ba8">int</span> t <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1</span>;
</span></span><span style="display:flex;"><span>    cin <span style="color:#89dceb;font-weight:bold">&gt;&gt;</span> t;
</span></span><span style="display:flex;"><span>    <span style="color:#cba6f7">while</span> (t<span style="color:#89dceb;font-weight:bold">--</span>) solve();
</span></span><span style="display:flex;"><span>    <span style="color:#cba6f7">return</span> <span style="color:#fab387">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="e-sponsor-of-your-problems">E. Sponsor of Your Problems<a hidden class="anchor" aria-hidden="true" href="#e-sponsor-of-your-problems">#</a></h3>
<p>æ•°ä½ DPï¼Œä»å·¦å¾€å³çœ‹ä¸¤ä¸ªæ•°ã€‚</p>
<p>æœ‰ä¸¤ç§ç‰¹æ®Šæƒ…å†µï¼š</p>
<ul>
<li>å·¦ä¾§ç‰‡æ®µå’Œ l ç›¸åŒï¼Œå½“å‰è¿™ä¸€ä½åªèƒ½ &gt;= $l_i$</li>
<li>å·¦ä¾§ç‰‡æ®µå’Œ r ç›¸åŒï¼Œå½“å‰è¿™ä¸€ä½åªèƒ½ &lt;= $r_i$</li>
</ul>
<p>å…¶ä½™æƒ…å†µèƒ½ä»»æ„å–ï¼Œä¿è¯æœ€å°å³å¯ã€‚</p>
<p>å…·ä½“å¯å‚è€ƒä»£ç </p>
<div class="highlight"><pre tabindex="0" style="color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#6c7086;font-style:italic">#include</span> <span style="color:#6c7086;font-weight:bold;font-style:italic">&lt;bits/stdc++.h&gt;</span><span style="color:#6c7086;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#6c7086;font-style:italic"></span><span style="color:#cba6f7">using</span> <span style="color:#cba6f7">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#6c7086;font-style:italic">#define endl &#34;\n&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#6c7086;font-style:italic"></span><span style="color:#cba6f7">typedef</span> <span style="color:#f38ba8">long</span> <span style="color:#f38ba8">long</span> ll;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cba6f7">const</span> <span style="color:#f38ba8">int</span> N <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1e5</span> <span style="color:#89dceb;font-weight:bold">+</span> <span style="color:#fab387">7</span>, mod <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1e9</span> <span style="color:#89dceb;font-weight:bold">+</span> <span style="color:#fab387">7</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f38ba8">void</span> <span style="color:#89b4fa">solve</span>() {
</span></span><span style="display:flex;"><span>    string l, r;
</span></span><span style="display:flex;"><span>    cin <span style="color:#89dceb;font-weight:bold">&gt;&gt;</span> l <span style="color:#89dceb;font-weight:bold">&gt;&gt;</span> r;
</span></span><span style="display:flex;"><span>    <span style="color:#f38ba8">int</span> n <span style="color:#89dceb;font-weight:bold">=</span> l.size();
</span></span><span style="display:flex;"><span>    vector<span style="color:#89dceb;font-weight:bold">&lt;</span>vector<span style="color:#89dceb;font-weight:bold">&lt;</span><span style="color:#f38ba8">int</span><span style="color:#89dceb;font-weight:bold">&gt;&gt;</span> f(<span style="color:#fab387">2</span>, vector<span style="color:#89dceb;font-weight:bold">&lt;</span><span style="color:#f38ba8">int</span><span style="color:#89dceb;font-weight:bold">&gt;</span>(<span style="color:#fab387">2</span>, <span style="color:#fab387">0</span>)), nf(<span style="color:#fab387">2</span>, vector<span style="color:#89dceb;font-weight:bold">&lt;</span><span style="color:#f38ba8">int</span><span style="color:#89dceb;font-weight:bold">&gt;</span>(<span style="color:#fab387">2</span>, <span style="color:#fab387">0</span>));  <span style="color:#6c7086;font-style:italic">//ä¼˜åŒ–ç©ºé—´ï¼Œåªå¼€ä¸¤å±‚ã€‚  
</span></span></span><span style="display:flex;"><span><span style="color:#6c7086;font-style:italic"></span>    <span style="color:#cba6f7">for</span> (<span style="color:#f38ba8">int</span> i <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">0</span>; i <span style="color:#89dceb;font-weight:bold">&lt;</span> <span style="color:#fab387">2</span>; i<span style="color:#89dceb;font-weight:bold">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#cba6f7">for</span> (<span style="color:#f38ba8">int</span> j <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">0</span>; j <span style="color:#89dceb;font-weight:bold">&lt;</span> <span style="color:#fab387">2</span>; j<span style="color:#89dceb;font-weight:bold">++</span>) f[i][j] <span style="color:#89dceb;font-weight:bold">=</span> nf[i][j] <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1e9</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    f[<span style="color:#fab387">1</span>][<span style="color:#fab387">1</span>] <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#cba6f7">for</span> (<span style="color:#f38ba8">int</span> i <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">0</span>; i <span style="color:#89dceb;font-weight:bold">&lt;</span> n; i<span style="color:#89dceb;font-weight:bold">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#cba6f7">for</span> (<span style="color:#f38ba8">int</span> a <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">0</span>; a <span style="color:#89dceb;font-weight:bold">&lt;</span> <span style="color:#fab387">2</span>; <span style="color:#89dceb;font-weight:bold">++</span>a)
</span></span><span style="display:flex;"><span>            <span style="color:#cba6f7">for</span> (<span style="color:#f38ba8">int</span> b <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">0</span>; b <span style="color:#89dceb;font-weight:bold">&lt;</span> <span style="color:#fab387">2</span>; <span style="color:#89dceb;font-weight:bold">++</span>b) nf[a][b] <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1e9</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#f38ba8">int</span> dl <span style="color:#89dceb;font-weight:bold">=</span> l[i] <span style="color:#89dceb;font-weight:bold">-</span> <span style="color:#a6e3a1">&#39;0&#39;</span>, dr <span style="color:#89dceb;font-weight:bold">=</span> r[i] <span style="color:#89dceb;font-weight:bold">-</span> <span style="color:#a6e3a1">&#39;0&#39;</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#cba6f7">for</span> (<span style="color:#f38ba8">int</span> a <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">0</span>; a <span style="color:#89dceb;font-weight:bold">&lt;</span> <span style="color:#fab387">2</span>; <span style="color:#89dceb;font-weight:bold">++</span>a) {
</span></span><span style="display:flex;"><span>            <span style="color:#cba6f7">for</span> (<span style="color:#f38ba8">int</span> b <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">0</span>; b <span style="color:#89dceb;font-weight:bold">&lt;</span> <span style="color:#fab387">2</span>; <span style="color:#89dceb;font-weight:bold">++</span>b) {
</span></span><span style="display:flex;"><span>                <span style="color:#cba6f7">if</span> (f[a][b] <span style="color:#89dceb;font-weight:bold">&lt;</span> <span style="color:#fab387">1e9</span>) {
</span></span><span style="display:flex;"><span>                    <span style="color:#f38ba8">int</span> lo <span style="color:#89dceb;font-weight:bold">=</span> a <span style="color:#89dceb;font-weight:bold">?</span> <span style="color:#89dceb">dl</span> : <span style="color:#fab387">0</span>; <span style="color:#6c7086;font-style:italic">//å¦‚æœå‰é¢å’Œ l ç›¸åŒï¼Œåˆ™åªèƒ½å–å¤§äºç­‰äº l å½“å‰ä½
</span></span></span><span style="display:flex;"><span><span style="color:#6c7086;font-style:italic"></span>                    <span style="color:#f38ba8">int</span> hi <span style="color:#89dceb;font-weight:bold">=</span> b <span style="color:#89dceb;font-weight:bold">?</span> <span style="color:#89dceb">dr</span> : <span style="color:#fab387">9</span>; <span style="color:#6c7086;font-style:italic">//å¦‚æœå‰é¢å’Œ r ç›¸åŒï¼Œåˆ™åªèƒ½å–å°äºç­‰äº r å½“å‰ä½
</span></span></span><span style="display:flex;"><span><span style="color:#6c7086;font-style:italic"></span>                    <span style="color:#cba6f7">for</span> (<span style="color:#f38ba8">int</span> d <span style="color:#89dceb;font-weight:bold">=</span> lo; d <span style="color:#89dceb;font-weight:bold">&lt;=</span> hi; d<span style="color:#89dceb;font-weight:bold">++</span>) {
</span></span><span style="display:flex;"><span>                        <span style="color:#f38ba8">int</span> c <span style="color:#89dceb;font-weight:bold">=</span> (d <span style="color:#89dceb;font-weight:bold">==</span> dl) <span style="color:#89dceb;font-weight:bold">+</span> (d <span style="color:#89dceb;font-weight:bold">==</span> dr);  <span style="color:#6c7086;font-style:italic">//å½“å‰ä»£ä»·
</span></span></span><span style="display:flex;"><span><span style="color:#6c7086;font-style:italic"></span>                        <span style="color:#f38ba8">int</span> na <span style="color:#89dceb;font-weight:bold">=</span> a <span style="color:#89dceb;font-weight:bold">&amp;&amp;</span> (d <span style="color:#89dceb;font-weight:bold">==</span> dl);  <span style="color:#6c7086;font-style:italic">//å‰é¢ç›¸åŒï¼ŒåŒæ—¶è¿™ä¸€ä½ä¹Ÿç›¸åŒï¼Œä¿ç•™çŠ¶æ€
</span></span></span><span style="display:flex;"><span><span style="color:#6c7086;font-style:italic"></span>                        <span style="color:#f38ba8">int</span> nb <span style="color:#89dceb;font-weight:bold">=</span> b <span style="color:#89dceb;font-weight:bold">&amp;&amp;</span> (d <span style="color:#89dceb;font-weight:bold">==</span> dr);
</span></span><span style="display:flex;"><span>                        nf[na][nb] <span style="color:#89dceb;font-weight:bold">=</span> min(nf[na][nb], f[a][b] <span style="color:#89dceb;font-weight:bold">+</span> c); <span style="color:#6c7086;font-style:italic">//å–æœ€ä¼˜
</span></span></span><span style="display:flex;"><span><span style="color:#6c7086;font-style:italic"></span>                    }
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        f <span style="color:#89dceb;font-weight:bold">=</span> nf;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#f38ba8">int</span> ans <span style="color:#89dceb;font-weight:bold">=</span> min({f[<span style="color:#fab387">0</span>][<span style="color:#fab387">0</span>], f[<span style="color:#fab387">0</span>][<span style="color:#fab387">1</span>], f[<span style="color:#fab387">1</span>][<span style="color:#fab387">0</span>], f[<span style="color:#fab387">1</span>][<span style="color:#fab387">1</span>]});
</span></span><span style="display:flex;"><span>    cout <span style="color:#89dceb;font-weight:bold">&lt;&lt;</span> ans <span style="color:#89dceb;font-weight:bold">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f38ba8">int</span> <span style="color:#89b4fa">main</span>() {
</span></span><span style="display:flex;"><span>    ios<span style="color:#89dceb;font-weight:bold">::</span>sync_with_stdio(<span style="color:#fab387">0</span>);
</span></span><span style="display:flex;"><span>    cin.tie(<span style="color:#fab387">0</span>);
</span></span><span style="display:flex;"><span>    cout.tie(<span style="color:#fab387">0</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#f38ba8">int</span> t <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1</span>;
</span></span><span style="display:flex;"><span>    cin <span style="color:#89dceb;font-weight:bold">&gt;&gt;</span> t;
</span></span><span style="display:flex;"><span>    <span style="color:#cba6f7">while</span> (t<span style="color:#89dceb;font-weight:bold">--</span>) solve();
</span></span><span style="display:flex;"><span>    <span style="color:#cba6f7">return</span> <span style="color:#fab387">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="f-yamakasi">F. Yamakasi<a hidden class="anchor" aria-hidden="true" href="#f-yamakasi">#</a></h3>
<p>ç»Ÿè®¡å‰ç¼€å’Œå‡ºç°æ¬¡æ•°ï¼ŒæŸ¥æ‰¾å½“å‰å‰ç¼€å’Œ - s çš„å‡ºç°æ¬¡æ•°ï¼Œä»¥å¤§äº x çš„ä¸ºåˆ†ç•Œçº¿ï¼Œé‡åˆ°å°±é‡ç½®å½“å‰ç»Ÿè®¡é‡ã€‚</p>
<p>ä»¥å‡½æ•°å®ç°ï¼ŒæŸ¥æ‰¾ x å’Œ x - 1 ç›¸å‡å³åªå‰©ä¸‹ x çš„</p>
<div class="highlight"><pre tabindex="0" style="color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#6c7086;font-style:italic">#include</span> <span style="color:#6c7086;font-weight:bold;font-style:italic">&lt;bits/stdc++.h&gt;</span><span style="color:#6c7086;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#6c7086;font-style:italic"></span><span style="color:#cba6f7">using</span> <span style="color:#cba6f7">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#6c7086;font-style:italic">#define endl &#34;\n&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#6c7086;font-style:italic"></span><span style="color:#cba6f7">typedef</span> <span style="color:#f38ba8">long</span> <span style="color:#f38ba8">long</span> ll;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cba6f7">const</span> <span style="color:#f38ba8">int</span> N <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1e5</span> <span style="color:#89dceb;font-weight:bold">+</span> <span style="color:#fab387">7</span>, mod <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1e9</span> <span style="color:#89dceb;font-weight:bold">+</span> <span style="color:#fab387">7</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f38ba8">void</span> <span style="color:#89b4fa">solve</span>() {
</span></span><span style="display:flex;"><span>    ll n, s, x;
</span></span><span style="display:flex;"><span>    cin <span style="color:#89dceb;font-weight:bold">&gt;&gt;</span> n <span style="color:#89dceb;font-weight:bold">&gt;&gt;</span> s <span style="color:#89dceb;font-weight:bold">&gt;&gt;</span> x;
</span></span><span style="display:flex;"><span>    vector<span style="color:#89dceb;font-weight:bold">&lt;</span>ll<span style="color:#89dceb;font-weight:bold">&gt;</span> a(n <span style="color:#89dceb;font-weight:bold">+</span> <span style="color:#fab387">10</span>), pre(n <span style="color:#89dceb;font-weight:bold">+</span> <span style="color:#fab387">10</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#cba6f7">for</span> (<span style="color:#f38ba8">int</span> i <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1</span>; i <span style="color:#89dceb;font-weight:bold">&lt;=</span> n; i<span style="color:#89dceb;font-weight:bold">++</span>) {
</span></span><span style="display:flex;"><span>        cin <span style="color:#89dceb;font-weight:bold">&gt;&gt;</span> a[i];
</span></span><span style="display:flex;"><span>        pre[i] <span style="color:#89dceb;font-weight:bold">=</span> pre[i <span style="color:#89dceb;font-weight:bold">-</span> <span style="color:#fab387">1</span>] <span style="color:#89dceb;font-weight:bold">+</span> a[i];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    ll ans <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#cba6f7">auto</span> calc <span style="color:#89dceb;font-weight:bold">=</span> [<span style="color:#89dceb;font-weight:bold">&amp;</span>](ll x) {
</span></span><span style="display:flex;"><span>        map<span style="color:#89dceb;font-weight:bold">&lt;</span>ll, <span style="color:#f38ba8">int</span><span style="color:#89dceb;font-weight:bold">&gt;</span> cnt;
</span></span><span style="display:flex;"><span>        cnt[<span style="color:#fab387">0</span>] <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1</span>;
</span></span><span style="display:flex;"><span>        ll res <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#cba6f7">for</span> (<span style="color:#f38ba8">int</span> i <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1</span>; i <span style="color:#89dceb;font-weight:bold">&lt;=</span> n; i<span style="color:#89dceb;font-weight:bold">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#cba6f7">if</span> (a[i] <span style="color:#89dceb;font-weight:bold">&gt;</span> x) {
</span></span><span style="display:flex;"><span>                cnt.clear();
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#cba6f7">if</span> (cnt.count(pre[i] <span style="color:#89dceb;font-weight:bold">-</span> s)) {
</span></span><span style="display:flex;"><span>                res <span style="color:#89dceb;font-weight:bold">+=</span> cnt[pre[i] <span style="color:#89dceb;font-weight:bold">-</span> s];
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            cnt[pre[i]]<span style="color:#89dceb;font-weight:bold">++</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#cba6f7">return</span> res;
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>    ans <span style="color:#89dceb;font-weight:bold">=</span> calc(x) <span style="color:#89dceb;font-weight:bold">-</span> calc(x <span style="color:#89dceb;font-weight:bold">-</span> <span style="color:#fab387">1</span>);
</span></span><span style="display:flex;"><span>    cout <span style="color:#89dceb;font-weight:bold">&lt;&lt;</span> ans <span style="color:#89dceb;font-weight:bold">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f38ba8">int</span> <span style="color:#89b4fa">main</span>() {
</span></span><span style="display:flex;"><span>    ios<span style="color:#89dceb;font-weight:bold">::</span>sync_with_stdio(<span style="color:#fab387">0</span>);
</span></span><span style="display:flex;"><span>    cin.tie(<span style="color:#fab387">0</span>);
</span></span><span style="display:flex;"><span>    cout.tie(<span style="color:#fab387">0</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#f38ba8">int</span> t <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1</span>;
</span></span><span style="display:flex;"><span>    cin <span style="color:#89dceb;font-weight:bold">&gt;&gt;</span> t;
</span></span><span style="display:flex;"><span>    <span style="color:#cba6f7">while</span> (t<span style="color:#89dceb;font-weight:bold">--</span>) solve();
</span></span><span style="display:flex;"><span>    <span style="color:#cba6f7">return</span> <span style="color:#fab387">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="g-gangsta">G. Gangsta<a hidden class="anchor" aria-hidden="true" href="#g-gangsta">#</a></h3>
<p>è®¾ 1 å‡ºç°æ¬¡æ•°ä¸º aï¼Œ0 å‡ºç°æ¬¡æ•°ä¸º bï¼Œé‚£ä¹ˆ $\max(a, b) = \frac{a + b + |a - b|}{2}$</p>
<p>å³ $f(s_{l..r}) = \frac{(c_0(l, r) + c_1(l, r)) + |c_1(l, r) - c_0(l, r)|}{2}$</p>
<p>ç°åœ¨ï¼Œæ€»å’Œ $S$ å¯ä»¥è¢«åˆ†è§£ä¸ºä¸¤éƒ¨åˆ†ï¼š
$S = \sum_{1 \le l \le r \le n} \frac{(c_0(l, r) + c_1(l, r)) + |c_1(l, r) - c_0(l, r)|}{2}$
$S = \frac{1}{2} \left( \sum_{1 \le l \le r \le n} (c_0(l, r) + c_1(l, r)) + \sum_{1 \le l \le r \le n} |c_1(l, r) - c_0(l, r)| \right)$</p>
<div class="highlight"><pre tabindex="0" style="color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#6c7086;font-style:italic">#include</span> <span style="color:#6c7086;font-weight:bold;font-style:italic">&lt;bits/stdc++.h&gt;</span><span style="color:#6c7086;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#6c7086;font-style:italic"></span><span style="color:#cba6f7">using</span> <span style="color:#cba6f7">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#6c7086;font-style:italic">#define endl &#34;\n&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#6c7086;font-style:italic"></span><span style="color:#cba6f7">typedef</span> <span style="color:#f38ba8">long</span> <span style="color:#f38ba8">long</span> ll;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cba6f7">const</span> <span style="color:#f38ba8">int</span> N <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1e5</span> <span style="color:#89dceb;font-weight:bold">+</span> <span style="color:#fab387">7</span>, mod <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1e9</span> <span style="color:#89dceb;font-weight:bold">+</span> <span style="color:#fab387">7</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f38ba8">void</span> <span style="color:#89b4fa">solve</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#f38ba8">int</span> n;
</span></span><span style="display:flex;"><span>    string s;
</span></span><span style="display:flex;"><span>    cin <span style="color:#89dceb;font-weight:bold">&gt;&gt;</span> n <span style="color:#89dceb;font-weight:bold">&gt;&gt;</span> s;
</span></span><span style="display:flex;"><span>    vector<span style="color:#89dceb;font-weight:bold">&lt;</span>ll<span style="color:#89dceb;font-weight:bold">&gt;</span> p(n <span style="color:#89dceb;font-weight:bold">+</span> <span style="color:#fab387">1</span>, <span style="color:#fab387">0</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#cba6f7">for</span> (<span style="color:#f38ba8">int</span> i <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1</span>; i <span style="color:#89dceb;font-weight:bold">&lt;=</span> n; i<span style="color:#89dceb;font-weight:bold">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#cba6f7">if</span> (s[i <span style="color:#89dceb;font-weight:bold">-</span> <span style="color:#fab387">1</span>] <span style="color:#89dceb;font-weight:bold">==</span> <span style="color:#a6e3a1">&#39;1&#39;</span>) p[i] <span style="color:#89dceb;font-weight:bold">=</span> p[i <span style="color:#89dceb;font-weight:bold">-</span> <span style="color:#fab387">1</span>] <span style="color:#89dceb;font-weight:bold">+</span> <span style="color:#fab387">1</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#cba6f7">else</span> p[i] <span style="color:#89dceb;font-weight:bold">=</span> p[i <span style="color:#89dceb;font-weight:bold">-</span> <span style="color:#fab387">1</span>] <span style="color:#89dceb;font-weight:bold">-</span> <span style="color:#fab387">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    sort(p.begin(), p.end());
</span></span><span style="display:flex;"><span>    ll ans <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">0</span>;
</span></span><span style="display:flex;"><span>    ll sum <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">0</span>, tot <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#cba6f7">for</span> (<span style="color:#f38ba8">int</span> i <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">0</span>; i <span style="color:#89dceb;font-weight:bold">&lt;=</span> n; i<span style="color:#89dceb;font-weight:bold">++</span>) {
</span></span><span style="display:flex;"><span>        tot <span style="color:#89dceb;font-weight:bold">+=</span> i <span style="color:#89dceb;font-weight:bold">*</span> p[i] <span style="color:#89dceb;font-weight:bold">-</span> sum;
</span></span><span style="display:flex;"><span>        sum <span style="color:#89dceb;font-weight:bold">+=</span> p[i];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    ll total <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1ll</span> <span style="color:#89dceb;font-weight:bold">*</span> n <span style="color:#89dceb;font-weight:bold">*</span> (n <span style="color:#89dceb;font-weight:bold">+</span> <span style="color:#fab387">1</span>) <span style="color:#89dceb;font-weight:bold">*</span> (n <span style="color:#89dceb;font-weight:bold">+</span> <span style="color:#fab387">2</span>) <span style="color:#89dceb;font-weight:bold">/</span> <span style="color:#fab387">6</span>;
</span></span><span style="display:flex;"><span>    ans <span style="color:#89dceb;font-weight:bold">=</span> (total <span style="color:#89dceb;font-weight:bold">+</span> tot) <span style="color:#89dceb;font-weight:bold">/</span> <span style="color:#fab387">2</span>; 
</span></span><span style="display:flex;"><span>    cout <span style="color:#89dceb;font-weight:bold">&lt;&lt;</span> ans <span style="color:#89dceb;font-weight:bold">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f38ba8">int</span> <span style="color:#89b4fa">main</span>() {
</span></span><span style="display:flex;"><span>    ios<span style="color:#89dceb;font-weight:bold">::</span>sync_with_stdio(<span style="color:#fab387">0</span>);
</span></span><span style="display:flex;"><span>    cin.tie(<span style="color:#fab387">0</span>);
</span></span><span style="display:flex;"><span>    cout.tie(<span style="color:#fab387">0</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#f38ba8">int</span> t <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1</span>;
</span></span><span style="display:flex;"><span>    cin <span style="color:#89dceb;font-weight:bold">&gt;&gt;</span> t;
</span></span><span style="display:flex;"><span>    <span style="color:#cba6f7">while</span> (t<span style="color:#89dceb;font-weight:bold">--</span>) solve();
</span></span><span style="display:flex;"><span>    <span style="color:#cba6f7">return</span> <span style="color:#fab387">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="h-ice-baby">H. Ice Baby<a hidden class="anchor" aria-hidden="true" href="#h-ice-baby">#</a></h3>
<p>æ€ç»´è·¯å¾„</p>
<p>é—®é¢˜çš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿ
æˆ‘ä»¬æƒ³æ‰¾ä¸€ä¸ªæœ€é•¿çš„ç´¢å¼•åºåˆ— $1 \leq i_1 &lt; i_2 &lt; &hellip; &lt; i_m \leq k$ï¼Œä½¿å¾—æˆ‘ä»¬èƒ½å¤Ÿæ‰¾åˆ°å¯¹åº”çš„å€¼ $a_{i_1}, a_{i_2}, &hellip;, a_{i_m}$ï¼Œæ»¡è¶³ $l_{i_j} \leq a_{i_j} \leq r_{i_j}$ ä¸” $a_{i_1} \leq a_{i_2} \leq &hellip; \leq a_{i_m}$ã€‚</p>
<p>ä¸€ä¸ªå­åºåˆ—ä½•æ—¶â€œå¯èƒ½â€æ˜¯éé€’å‡çš„ï¼Ÿ
è€ƒè™‘ä¸¤ä¸ªç´¢å¼• $i &lt; j$ã€‚æˆ‘ä»¬ä»€ä¹ˆæ—¶å€™ä¸€å®šä¸èƒ½è®© $a_i \leq a_j$ï¼Ÿå½“ $a_i$ çš„å–å€¼èŒƒå›´ $[l_i, r_i]$ ä¸­çš„ä»»ä½•æ•°éƒ½å¤§äº $a_j$ çš„å–å€¼èŒƒå›´ $[l_j, r_j]$ ä¸­çš„ä»»ä½•æ•°æ—¶ã€‚è¿™ç§æƒ…å†µå‘ç”Ÿçš„æ¡ä»¶æ˜¯ $l_i &gt; r_j$ã€‚å¦‚æœ $l_i &gt; r_j$ï¼Œé‚£ä¹ˆä»»ä½• $a_i \geq l_i$ å’Œ $a_j \leq r_j$ éƒ½å¿…ç„¶å¯¼è‡´ $a_i &gt; a_j$ã€‚</p>
<p>é—®é¢˜è½¬åŒ–ï¼šååºé›†ä¸Dilworthå®šç†
æˆ‘ä»¬å¯ä»¥åŸºäºä¸Šè¿°è§‚å¯Ÿå®šä¹‰ä¸€ä¸ªååºå…³ç³»ã€‚åœ¨é›†åˆ ${1, 2, &hellip;, k}$ ä¸Šå®šä¹‰ä¸€ä¸ªå…³ç³» $\prec$ï¼š
$i \prec j$ å½“ä¸”ä»…å½“ $i &lt; j$ ä¸” $l_i &gt; r_j$ã€‚
è¿™ä¸ªå…³ç³» $i \prec j$ æ„å‘³ç€åœ¨ä»»ä½•åˆæ³•çš„æ•°ç»„ $a$ ä¸­ï¼Œ$a_i$ å¿…é¡»ä¸¥æ ¼å¤§äº $a_j$ã€‚</p>
<p>é“¾ (Chain)ï¼šä¸€ä¸ªç´¢å¼•åºåˆ— $i_1, i_2, &hellip;, i_p$ å¦‚æœæ»¡è¶³ $i_1 \prec i_2 \prec &hellip; \prec i_p$ï¼Œåˆ™ç§°ä¸ºä¸€ä¸ªé“¾ã€‚æ ¹æ®å®šä¹‰ï¼Œè¿™å¯¹åº”ä¸€ä¸ªå¿…é¡»ä¸¥æ ¼é€’å‡çš„å­åºåˆ—ã€‚
åé“¾ (Antichain)ï¼šä¸€ä¸ªç´¢å¼•é›†åˆ $A$ å¦‚æœå…¶ä¸­ä»»æ„ä¸¤ä¸ªå…ƒç´  $i, j$ éƒ½ä¸å¯æ¯”ï¼ˆå³ $i \not\prec j$ ä¸” $j \not\prec i$ï¼‰ï¼Œåˆ™ç§°ä¸ºä¸€ä¸ªåé“¾ã€‚å¯¹äº $i, j \in A$ ä¸” $i &lt; j$ï¼Œæˆ‘ä»¬æœ‰ $i \not\prec j$ï¼Œè¿™æ„å‘³ç€ $l_i \leq r_j$ã€‚</p>
<p>å…³é”®è”ç³»</p>
<p>ä¸€ä¸ªç´¢å¼•åºåˆ—å¯ä»¥æ„æˆéé€’å‡å­åºåˆ—ï¼Œå½“ä¸”ä»…å½“å®ƒæ˜¯ä¸€ä¸ªåé“¾ã€‚</p>
<p>è¯æ˜ (â‡’): å¦‚æœ $i_1 &lt; &hellip; &lt; i_m$ å¯ä»¥æ„æˆéé€’å‡å­åºåˆ—ï¼Œé‚£ä¹ˆå­˜åœ¨ $a_{i_1} \leq &hellip; \leq a_{i_m}$ã€‚å¯¹äºä»»æ„ $p &lt; q$ï¼Œæˆ‘ä»¬æœ‰ $a_{i_p} \leq a_{i_q}$ã€‚åŒæ—¶ $l_{i_p} \leq a_{i_p}$ ä¸” $a_{i_q} \leq r_{i_q}$ï¼Œæ‰€ä»¥ $l_{i_p} \leq r_{i_q}$ã€‚è¿™ä¸ $i_p \prec i_q$ çš„å®šä¹‰ $l_{i_p} &gt; r_{i_q}$ çŸ›ç›¾ã€‚æ‰€ä»¥ $i_p \not\prec i_q$ï¼Œè¯¥åºåˆ—æ˜¯åé“¾ã€‚
è¯æ˜ (â‡): å¦‚æœ ${i_1, &hellip;, i_m}$ æ˜¯ä¸€ä¸ªåé“¾ ($i_1 &lt; &hellip; &lt; i_m$)ï¼Œé‚£ä¹ˆå¯¹ä»»æ„ $p &lt; q$ éƒ½æœ‰ $l_{i_p} \leq r_{i_q}$ã€‚æˆ‘ä»¬å¯ä»¥æ„é€ ä¸€ä¸ªåˆæ³•çš„éé€’å‡åºåˆ—ã€‚ä¾‹å¦‚ï¼Œä»¤ $a_{i_j} = \max(l_{i_1}, l_{i_2}, &hellip;, l_{i_j})$ã€‚è¿™ä¸ªåºåˆ—æ˜¾ç„¶éé€’å‡ã€‚æˆ‘ä»¬åªéœ€éªŒè¯å…¶åˆæ³•æ€§ï¼Œå³ $a_{i_j} \leq r_{i_j}$ã€‚$a_{i_j}$ æ˜¯æŸä¸ª $l_{i_p}$ ($p \leq j$)ã€‚å› ä¸ºæ˜¯åé“¾ï¼Œæ‰€ä»¥ $l_{i_p} \leq r_{i_j}$ã€‚å› æ­¤æ„é€ åˆæ³•ã€‚</p>
<p>åº”ç”¨Dilworthå®šç†
æˆ‘ä»¬çš„é—®é¢˜å˜æˆäº†ï¼šå¯¹äºæ¯ä¸ª $k$ï¼Œåœ¨ååºé›† $({1,&hellip;,k}, \prec)$ ä¸­æ‰¾åˆ°æœ€å¤§åé“¾çš„é•¿åº¦ã€‚
Dilworthå®šç†æŒ‡å‡ºï¼šåœ¨ä¸€ä¸ªååºé›†ä¸­ï¼Œæœ€å¤§åé“¾çš„é•¿åº¦ç­‰äºæœ€å°é“¾åˆ’åˆ†çš„å¤§å°ã€‚
ï¼ˆæœ€å°é“¾åˆ’åˆ†ï¼šç”¨æœ€å°‘æ•°é‡çš„é“¾æ¥è¦†ç›–é›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ ï¼‰ã€‚</p>
<p>è´ªå¿ƒç®—æ³•æ±‚è§£æœ€å°é“¾åˆ’åˆ†
æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªåœ¨çº¿çš„è´ªå¿ƒç®—æ³•æ¥æ±‚è§£æœ€å°é“¾åˆ’åˆ†çš„å¤§å°ã€‚è¿™ä¸ªç®—æ³•ä¸è€å¿ƒæ’åº (Patience Sorting) çš„æ€æƒ³éå¸¸ç›¸ä¼¼ã€‚</p>
<p>æˆ‘ä»¬ç»´æŠ¤ä¸€ç³»åˆ—é“¾ï¼Œå¹¶åªå…³å¿ƒæ¯æ¡é“¾çš„æœ«å°¾å…ƒç´ ã€‚
å½“æˆ‘ä»¬å¤„ç†æ–°çš„ç´¢å¼• $k$ æ—¶ï¼Œæˆ‘ä»¬å°è¯•ç”¨å®ƒæ¥æ‰©å±•ä¸€æ¡å·²æœ‰çš„é“¾ã€‚
$k$ å¯ä»¥æ‰©å±•ä¸€æ¡ä»¥ $j$ ç»“å°¾çš„é“¾ï¼Œå½“ä¸”ä»…å½“ $j \prec k$ï¼Œå³ $j &lt; k$ (è‡ªç„¶æ»¡è¶³) ä¸” $l_j &gt; r_k$ã€‚
è´ªå¿ƒç­–ç•¥ï¼šå¦‚æœæœ‰å¤šæ¡é“¾å¯ä»¥è¢« $k$ æ‰©å±•ï¼Œæˆ‘ä»¬åº”è¯¥é€‰æ‹©å“ªä¸€æ¡ï¼Ÿä¸ºäº†ç»™åç»­çš„å…ƒç´ ç•™ä¸‹æ›´å¤šé€‰æ‹©ï¼Œæˆ‘ä»¬åº”è¯¥æ‰©å±•é‚£æ¡â€œæœ€éš¾è¢«æ‰©å±•â€çš„é“¾ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬é€‰æ‹© $l_j$ æœ€å°ä½†ä»æ»¡è¶³ $l_j &gt; r_k$ çš„é‚£æ¡é“¾ã€‚
å¦‚æœæ‰¾ä¸åˆ°ä»»ä½•å¯ä»¥è¢« $k$ æ‰©å±•çš„é“¾ï¼ˆå³å¯¹æ‰€æœ‰é“¾çš„æœ«ç«¯ $j$ï¼Œéƒ½æœ‰ $l_j \leq r_k$ï¼‰ï¼Œæˆ‘ä»¬å°±å¿…é¡»ç”¨ $k$ å¼€å§‹ä¸€æ¡æ–°çš„é“¾ã€‚
åœ¨ä»»ä½•æ—¶å€™ï¼Œé“¾çš„æ•°é‡å°±æ˜¯å½“å‰é›†åˆçš„æœ€å°é“¾åˆ’åˆ†æ•°ã€‚</p>
<p>æ•°æ®ç»“æ„å®ç°
è¿™ä¸ªè´ªå¿ƒç­–ç•¥å¯ä»¥ç”¨ä¸€ä¸ª multiset (æˆ–ä»»ä½•å¹³è¡¡äºŒå‰æœç´¢æ ‘) é«˜æ•ˆå®ç°ã€‚</p>
<p>multiset<int> s ç”¨æ¥å­˜å‚¨å½“å‰æ‰€æœ‰é“¾çš„æœ«ç«¯å…ƒç´ çš„ $l$ å€¼ã€‚
å½“å¤„ç†ç¬¬ $k$ ä¸ªåŒºé—´ $[l_k, r_k]$ æ—¶ï¼š</p>
<p>æˆ‘ä»¬å¯»æ‰¾ä¸€ä¸ª $l_j \in s$ æ»¡è¶³ $l_j &gt; r_k$ã€‚æ ¹æ®è´ªå¿ƒç­–ç•¥ï¼Œæˆ‘ä»¬è¦æ‰¾æœ€å°çš„é‚£ä¸ª $l_j$ã€‚è¿™æ­£æ˜¯ *s.upper_bound(r_k)ã€‚
å¦‚æœæ‰¾åˆ°äº† (å³ s.upper_bound(r_k) ä¸æ˜¯ s.end())ï¼Œè¯´æ˜æˆ‘ä»¬å¯ä»¥æ‰©å±•è¿™æ¡é“¾ã€‚æˆ‘ä»¬å°† $k$ ä½œä¸ºè¿™æ¡é“¾æ–°çš„æœ«ç«¯ã€‚äºæ˜¯ï¼Œä» s ä¸­åˆ é™¤æ—§çš„ $l_j$ï¼Œå¹¶æ’å…¥æ–°çš„ $l_k$ã€‚
å¦‚æœæ²¡æ‰¾åˆ°ï¼Œè¯´æ˜ $k$ æ— æ³•æ‰©å±•ä»»ä½•ç°æœ‰é“¾ã€‚æˆ‘ä»¬å¿…é¡»ç”¨ $k$ å¼€å¯ä¸€æ¡æ–°é“¾ã€‚äºæ˜¯ï¼Œæˆ‘ä»¬ç›´æ¥å‘ s ä¸­æ’å…¥ $l_k$ã€‚</p>
<p>è¿™ä¸¤ä¸ªæƒ…å†µå¯ä»¥åˆå¹¶ï¼šæˆ‘ä»¬æ€»æ˜¯è¦æ’å…¥ $l_k$ (ä½œä¸ºæ–°é“¾æˆ–æ‰©å±•é“¾çš„æ–°æœ«ç«¯)ã€‚å¦‚æœæ‰©å±•äº†æ—§é“¾ï¼Œæˆ‘ä»¬æ‰éœ€è¦åˆ é™¤æ—§æœ«ç«¯çš„ $l_j$ã€‚
æ‰€ä»¥ï¼Œä»£ç é€»è¾‘æ˜¯ï¼š
a. æŸ¥æ‰¾ pos = s.upper_bound(r_k)ã€‚
b. s.insert(l_k)ã€‚
c. å¦‚æœ pos æœ‰æ•ˆ (ä¸ç­‰äº s.end())ï¼Œs.erase(pos)ã€‚
æ¯ä¸€æ­¥æ“ä½œåï¼Œs.size() å°±æ˜¯å½“å‰ ${1, &hellip;, k}$ çš„æœ€å°é“¾åˆ’åˆ†æ•°ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è¦æ‰¾çš„æœ€å¤§LNDSé•¿åº¦ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#cdd6f4;background-color:#1e1e2e;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#6c7086;font-style:italic">#include</span> <span style="color:#6c7086;font-weight:bold;font-style:italic">&lt;bits/stdc++.h&gt;</span><span style="color:#6c7086;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#6c7086;font-style:italic"></span><span style="color:#cba6f7">using</span> <span style="color:#cba6f7">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#6c7086;font-style:italic">#define endl &#34;\n&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#6c7086;font-style:italic"></span><span style="color:#cba6f7">typedef</span> <span style="color:#f38ba8">long</span> <span style="color:#f38ba8">long</span> ll;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cba6f7">const</span> <span style="color:#f38ba8">int</span> N <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1e5</span> <span style="color:#89dceb;font-weight:bold">+</span> <span style="color:#fab387">7</span>, mod <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1e9</span> <span style="color:#89dceb;font-weight:bold">+</span> <span style="color:#fab387">7</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f38ba8">void</span> <span style="color:#89b4fa">solve</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#f38ba8">int</span> n;
</span></span><span style="display:flex;"><span>    cin <span style="color:#89dceb;font-weight:bold">&gt;&gt;</span> n;
</span></span><span style="display:flex;"><span>    multiset<span style="color:#89dceb;font-weight:bold">&lt;</span><span style="color:#f38ba8">int</span><span style="color:#89dceb;font-weight:bold">&gt;</span> s;
</span></span><span style="display:flex;"><span>    <span style="color:#6c7086;font-style:italic">// s.insert(0);
</span></span></span><span style="display:flex;"><span><span style="color:#6c7086;font-style:italic"></span>    <span style="color:#cba6f7">for</span> (<span style="color:#f38ba8">int</span> i <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1</span>; i <span style="color:#89dceb;font-weight:bold">&lt;=</span> n; i<span style="color:#89dceb;font-weight:bold">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#f38ba8">int</span> l, r;
</span></span><span style="display:flex;"><span>        cin <span style="color:#89dceb;font-weight:bold">&gt;&gt;</span> l <span style="color:#89dceb;font-weight:bold">&gt;&gt;</span> r;
</span></span><span style="display:flex;"><span>        <span style="color:#cba6f7">auto</span> pos <span style="color:#89dceb;font-weight:bold">=</span> s.upper_bound(r);
</span></span><span style="display:flex;"><span>        s.insert(l);
</span></span><span style="display:flex;"><span>        <span style="color:#cba6f7">if</span> (pos <span style="color:#89dceb;font-weight:bold">!=</span> s.end()) s.erase(pos);
</span></span><span style="display:flex;"><span>        cout <span style="color:#89dceb;font-weight:bold">&lt;&lt;</span> s.size() <span style="color:#89dceb;font-weight:bold">&lt;&lt;</span> <span style="color:#a6e3a1">&#34; &#34;</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout <span style="color:#89dceb;font-weight:bold">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f38ba8">int</span> <span style="color:#89b4fa">main</span>() {
</span></span><span style="display:flex;"><span>    ios<span style="color:#89dceb;font-weight:bold">::</span>sync_with_stdio(<span style="color:#fab387">0</span>);
</span></span><span style="display:flex;"><span>    cin.tie(<span style="color:#fab387">0</span>);
</span></span><span style="display:flex;"><span>    cout.tie(<span style="color:#fab387">0</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#f38ba8">int</span> t <span style="color:#89dceb;font-weight:bold">=</span> <span style="color:#fab387">1</span>;
</span></span><span style="display:flex;"><span>    cin <span style="color:#89dceb;font-weight:bold">&gt;&gt;</span> t;
</span></span><span style="display:flex;"><span>    <span style="color:#cba6f7">while</span> (t<span style="color:#89dceb;font-weight:bold">--</span>) solve();
</span></span><span style="display:flex;"><span>    <span style="color:#cba6f7">return</span> <span style="color:#fab387">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://blog.050623.xyz/tags/codeforces/">Codeforces</a></li>
      <li><a href="https://blog.050623.xyz/tags/%E8%A1%A5%E9%A2%98/">è¡¥é¢˜</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://blog.050623.xyz/posts/tech/tools/">
    <span class="title">Â« ä¸Šä¸€é¡µ</span>
    <br>
    <span>è‡ªå»ºå°ç©å…·</span>
  </a>
  <a class="next" href="https://blog.050623.xyz/posts/study/cf1030/">
    <span class="title">ä¸‹ä¸€é¡µ Â»</span>
    <br>
    <span>Codeforces Round 1030 (Div. 2)</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://blog.050623.xyz/">KiritoXD&#39;s Blog</a></span> Â· 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;
        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = 'copy';

        function copyingDone() {
            copybutton.innerText = 'copied!';
            setTimeout(() => {
                copybutton.innerText = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', () => {
            if ('clipboard' in navigator) {
                let text = codeblock.textContent;
                navigator.clipboard.writeText(text).then(copyingDone);
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) {}
            selection.removeRange(range);
        });

        let language = codeblock.className.replace("language-", "");
        let macTool = document.createElement("div");
        let macTool1 = document.createElement("div");
        let macTool2 = document.createElement("div");
        let macTool3 = document.createElement("div");
        let languageType = document.createElement("div");
        languageType.innerText = language;
        macTool.setAttribute('class', 'mac-tool');
        macTool1.setAttribute('class', 'mac bb1');
        macTool2.setAttribute('class', 'mac bb2');
        macTool3.setAttribute('class', 'mac bb3');
        languageType.setAttribute('class', 'language-type');
        macTool.appendChild(macTool1);
        macTool.appendChild(macTool2);
        macTool.appendChild(macTool3);
        macTool.appendChild(languageType);

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
            container.appendChild(macTool);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
            container.appendChild(macTool);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
            container.appendChild(macTool);
        }
    });
</script>

<script>
    (function(u, c) {
      var d = document, t = 'script', o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function(e) { c(e); }); }
      s.parentNode.insertBefore(o, s);
    })('//cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js', function() {
      pangu.spacingPage();
    });
    </script>
</body>

</html>
